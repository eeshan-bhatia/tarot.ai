"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/reading/route";
exports.ids = ["app/api/reading/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:fs/promises":
/*!***********************************!*\
  !*** external "node:fs/promises" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:fs/promises");

/***/ }),

/***/ "node:os":
/*!**************************!*\
  !*** external "node:os" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:os");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Freading%2Froute&page=%2Fapi%2Freading%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Freading%2Froute.ts&appDir=%2FUsers%2Feeshanbhatia%2FDocuments%2FGitHub%2Ftarot.ai%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Feeshanbhatia%2FDocuments%2FGitHub%2Ftarot.ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Freading%2Froute&page=%2Fapi%2Freading%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Freading%2Froute.ts&appDir=%2FUsers%2Feeshanbhatia%2FDocuments%2FGitHub%2Ftarot.ai%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Feeshanbhatia%2FDocuments%2FGitHub%2Ftarot.ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_eeshanbhatia_Documents_GitHub_tarot_ai_app_api_reading_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/reading/route.ts */ \"(rsc)/./app/api/reading/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/reading/route\",\n        pathname: \"/api/reading\",\n        filename: \"route\",\n        bundlePath: \"app/api/reading/route\"\n    },\n    resolvedPagePath: \"/Users/eeshanbhatia/Documents/GitHub/tarot.ai/app/api/reading/route.ts\",\n    nextConfigOutput,\n    userland: _Users_eeshanbhatia_Documents_GitHub_tarot_ai_app_api_reading_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/reading/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZWFkaW5nJTJGcm91dGUmcGFnZT0lMkZhcGklMkZyZWFkaW5nJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcmVhZGluZyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmVlc2hhbmJoYXRpYSUyRkRvY3VtZW50cyUyRkdpdEh1YiUyRnRhcm90LmFpJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmVlc2hhbmJoYXRpYSUyRkRvY3VtZW50cyUyRkdpdEh1YiUyRnRhcm90LmFpJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNzQjtBQUNuRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3Rhcm90LmFpLz83MGI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9lZXNoYW5iaGF0aWEvRG9jdW1lbnRzL0dpdEh1Yi90YXJvdC5haS9hcHAvYXBpL3JlYWRpbmcvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3JlYWRpbmcvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9yZWFkaW5nXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9yZWFkaW5nL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2Vlc2hhbmJoYXRpYS9Eb2N1bWVudHMvR2l0SHViL3Rhcm90LmFpL2FwcC9hcGkvcmVhZGluZy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcmVhZGluZy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Freading%2Froute&page=%2Fapi%2Freading%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Freading%2Froute.ts&appDir=%2FUsers%2Feeshanbhatia%2FDocuments%2FGitHub%2Ftarot.ai%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Feeshanbhatia%2FDocuments%2FGitHub%2Ftarot.ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/reading/route.ts":
/*!**********************************!*\
  !*** ./app/api/reading/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _aws_sdk_client_bedrock_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aws-sdk/client-bedrock-runtime */ \"(rsc)/./node_modules/@aws-sdk/client-bedrock-runtime/dist-es/BedrockRuntimeClient.js\");\n/* harmony import */ var _aws_sdk_client_bedrock_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aws-sdk/client-bedrock-runtime */ \"(rsc)/./node_modules/@aws-sdk/client-bedrock-runtime/dist-es/commands/InvokeModelCommand.js\");\n\n\n// Lazy initialization of Bedrock client to avoid build-time issues\nfunction getBedrockClient() {\n    return new _aws_sdk_client_bedrock_runtime__WEBPACK_IMPORTED_MODULE_1__.BedrockRuntimeClient({\n        region: process.env.AWS_REGION || \"ap-southeast-2\",\n        ...process.env.AWS_ACCESS_KEY_ID && process.env.AWS_SECRET_ACCESS_KEY ? {\n            credentials: {\n                accessKeyId: process.env.AWS_ACCESS_KEY_ID,\n                secretAccessKey: process.env.AWS_SECRET_ACCESS_KEY\n            }\n        } : {}\n    });\n}\nasync function POST(request) {\n    try {\n        const { question, cards } = await request.json();\n        if (!cards || cards.length !== 3) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"3 cards are required\"\n            }, {\n                status: 400\n            });\n        }\n        // AWS credentials are optional if using IAM roles (EC2, Lambda, ECS, etc.)\n        // The Bedrock client will automatically use the default credential chain if\n        // AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY are not provided\n        const cardDescriptions = cards.map((card, index)=>{\n            const orientation = card.isReversed ? \" (Reversed)\" : \" (Upright)\";\n            return `Card ${index + 1}: ${card.name}${orientation}\\nMeaning: ${card.meaning}\\nKeywords: ${card.keywords.join(\", \")}`;\n        }).join(\"\\n\\n\");\n        const isGeneralReading = !question || question.trim() === \"\";\n        const prompt = isGeneralReading ? `Interpret these three tarot cards for a general reading:\n\n${cardDescriptions}\n\nProvide exactly 4 paragraphs:\n1. First paragraph: Interpret Card 1 (${cards[0].name}) and its meaning in their life\n2. Second paragraph: Interpret Card 2 (${cards[1].name}) and its meaning in their life\n3. Third paragraph: Interpret Card 3 (${cards[2].name}) and its meaning in their life\n4. Fourth paragraph: Conclude by explaining what all three cards collectively suggest about their journey and offer guidance. Then, on a separate paragraph, provide a poignant, inspiring quote (in quotation marks) that relates to what the cards point towards - this can be from literature, philosophy, wisdom traditions, or your own creation, but it should be meaningful and relevant to the reading.\n\nBegin immediately with the first card's interpretation. Do not include any introductory phrases or acknowledgments - start directly with Card 1. Be specific and personal.` : `Interpret these three tarot cards in response to this question: \"${question}\"\n\n${cardDescriptions}\n\nProvide exactly 4 paragraphs:\n1. First paragraph: Interpret Card 1 (${cards[0].name}). First explain the card's general meaning and symbolism, then explain how it specifically relates to their question and what it reveals about their situation\n2. Second paragraph: Interpret Card 2 (${cards[1].name}). First explain the card's general meaning and symbolism, then explain how it specifically relates to their question and what it reveals about their situation\n3. Third paragraph: Interpret Card 3 (${cards[2].name}). First explain the card's general meaning and symbolism, then explain how it specifically relates to their question and what it reveals about their situation\n4. Fourth paragraph: Conclude by explaining what all three cards collectively suggest about the answer to their question and offer practical guidance. Then, on a separate paragraph, provide a poignant, inspiring quote (in quotation marks) that relates to their question and/or what the cards point towards - this can be from literature, philosophy, wisdom traditions, or your own creation, but it should be meaningful and relevant to both the question and the reading.\n\nBegin immediately with the first card's interpretation. Do not include any introductory phrases or acknowledgments - start directly with Card 1. Be specific and personal.`;\n        // Use Claude model via Bedrock (you can change this to other Bedrock models)\n        // Note: Model IDs in Bedrock sometimes need to be without the version suffix\n        // Try: 'anthropic.claude-3-sonnet-20240229-v1:0' or 'anthropic.claude-3-sonnet-20240229-v1'\n        // or just 'anthropic.claude-3-sonnet-20240229-v1' depending on what's available\n        let modelId = process.env.BEDROCK_MODEL_ID || \"anthropic.claude-3-sonnet-20240229-v1:0\";\n        const region = process.env.AWS_REGION || \"ap-southeast-2\";\n        // Remove version suffix if present and try base model ID\n        // Some regions require the model ID without the :0 suffix\n        if (modelId.includes(\":\") && !process.env.BEDROCK_MODEL_ID) {\n            // Try without version suffix as fallback\n            const baseModelId = modelId.split(\":\")[0];\n            console.log(\"Trying model ID:\", modelId, \"or base:\", baseModelId);\n        }\n        console.log(\"Calling Bedrock with model:\", modelId, \"in region:\", region);\n        const systemPrompt = \"You are a wise, compassionate, and insightful tarot reader with deep knowledge of tarot symbolism and meaning. When given tarot cards, you immediately begin interpreting them without any introductory pleasantries, affirmations, or acknowledgments. You go straight into discussing the cards and their meanings, providing the reading directly.\";\n        // Format for Claude API (Anthropic format)\n        // For Claude 3, content should be an array of text blocks\n        const bedrockPayload = {\n            anthropic_version: \"bedrock-2023-05-31\",\n            max_tokens: 1000,\n            temperature: 0.8,\n            system: systemPrompt,\n            messages: [\n                {\n                    role: \"user\",\n                    content: [\n                        {\n                            type: \"text\",\n                            text: prompt\n                        }\n                    ]\n                }\n            ]\n        };\n        console.log(\"Bedrock payload:\", JSON.stringify(bedrockPayload, null, 2));\n        const bedrockClient = getBedrockClient();\n        const command = new _aws_sdk_client_bedrock_runtime__WEBPACK_IMPORTED_MODULE_2__.InvokeModelCommand({\n            modelId,\n            contentType: \"application/json\",\n            accept: \"application/json\",\n            body: JSON.stringify(bedrockPayload)\n        });\n        const response = await bedrockClient.send(command);\n        const responseBody = JSON.parse(new TextDecoder().decode(response.body));\n        // Extract the reading from Claude's response\n        const reading = responseBody.content?.[0]?.text;\n        if (!reading) {\n            throw new Error(\"No reading generated\");\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            reading\n        });\n    } catch (error) {\n        console.error(\"Error generating reading:\", error);\n        console.error(\"Error name:\", error.name);\n        console.error(\"Error message:\", error.message);\n        console.error(\"Error code:\", error.$metadata?.httpStatusCode);\n        console.error(\"Full error:\", JSON.stringify(error, null, 2));\n        // Provide more detailed error information\n        let errorMessage = \"Failed to generate reading\";\n        let statusCode = 500;\n        // Check for specific AWS error types\n        const errorMsg = error.message || \"\";\n        // Check for Anthropic use case form requirement\n        if (errorMsg.includes(\"use case details\") || errorMsg.includes(\"use case form\")) {\n            errorMessage = `Anthropic Use Case Form Required: You need to fill out the Anthropic use case details form in the AWS Bedrock console before using Claude models. Go to AWS Bedrock Console → Model access → Request model access → Fill out the Anthropic use case form. After submitting, wait 15 minutes before trying again.`;\n            statusCode = 403;\n        } else if (error.name === \"ValidationException\") {\n            errorMessage = `Validation error: ${errorMsg || error.name}. This might indicate an issue with the request format or model ID.`;\n            statusCode = 400;\n        } else if (error.name === \"AccessDeniedException\") {\n            errorMessage = `Access denied: ${errorMsg || error.name}. Please check your AWS credentials and Bedrock permissions.`;\n            statusCode = 403;\n        } else if (error.name === \"ResourceNotFoundException\" || error.$metadata?.httpStatusCode === 404) {\n            errorMessage = `Model not found: ${errorMsg || \"The specified model ID may not be available in this region or may need to be enabled.\"}`;\n            statusCode = 404;\n        } else if (error.name === \"ThrottlingException\") {\n            errorMessage = `Rate limit exceeded: ${errorMsg || error.name}. Please try again in a moment.`;\n            statusCode = 429;\n        } else if (errorMsg) {\n            errorMessage = `${error.name || \"Error\"}: ${errorMsg}`;\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: errorMessage,\n            errorName: error.name,\n            errorCode: error.$metadata?.httpStatusCode,\n            details:  true ? {\n                stack: error.stack,\n                fullError: error.toString(),\n                modelId: process.env.BEDROCK_MODEL_ID || \"anthropic.claude-3-sonnet-20240229-v1:0\",\n                region: process.env.AWS_REGION || \"ap-southeast-2\"\n            } : 0\n        }, {\n            status: statusCode\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SztnQkFDbEJDLFdBQVcxRCxNQUFNMkQsUUFBUTtnQkFDekI1QyxTQUFTN0IsUUFBUUMsR0FBRyxDQUFDNkIsZ0JBQWdCLElBQUk7Z0JBQ3pDL0IsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxVQUFVLElBQUk7WUFDcEMsSUFBSXdFLENBQVNBO1FBQ2YsR0FDQTtZQUFFM0QsUUFBUW1EO1FBQVc7SUFFekI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Rhcm90LmFpLy4vYXBwL2FwaS9yZWFkaW5nL3JvdXRlLnRzP2QxY2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgQmVkcm9ja1J1bnRpbWVDbGllbnQsIEludm9rZU1vZGVsQ29tbWFuZCB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1iZWRyb2NrLXJ1bnRpbWUnXG5cbi8vIExhenkgaW5pdGlhbGl6YXRpb24gb2YgQmVkcm9jayBjbGllbnQgdG8gYXZvaWQgYnVpbGQtdGltZSBpc3N1ZXNcbmZ1bmN0aW9uIGdldEJlZHJvY2tDbGllbnQoKSB7XG4gIHJldHVybiBuZXcgQmVkcm9ja1J1bnRpbWVDbGllbnQoe1xuICAgIHJlZ2lvbjogcHJvY2Vzcy5lbnYuQVdTX1JFR0lPTiB8fCAnYXAtc291dGhlYXN0LTInLFxuICAgIC4uLihwcm9jZXNzLmVudi5BV1NfQUNDRVNTX0tFWV9JRCAmJiBwcm9jZXNzLmVudi5BV1NfU0VDUkVUX0FDQ0VTU19LRVlcbiAgICAgID8ge1xuICAgICAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgICAgICBhY2Nlc3NLZXlJZDogcHJvY2Vzcy5lbnYuQVdTX0FDQ0VTU19LRVlfSUQsXG4gICAgICAgICAgICBzZWNyZXRBY2Nlc3NLZXk6IHByb2Nlc3MuZW52LkFXU19TRUNSRVRfQUNDRVNTX0tFWSxcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICA6IHt9KSxcbiAgfSlcbn1cblxuaW50ZXJmYWNlIENhcmQge1xuICBuYW1lOiBzdHJpbmdcbiAgbWVhbmluZzogc3RyaW5nXG4gIGtleXdvcmRzOiBzdHJpbmdbXVxuICBpc1JldmVyc2VkPzogYm9vbGVhblxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgcXVlc3Rpb24sIGNhcmRzIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuXG4gICAgaWYgKCFjYXJkcyB8fCBjYXJkcy5sZW5ndGggIT09IDMpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJzMgY2FyZHMgYXJlIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBBV1MgY3JlZGVudGlhbHMgYXJlIG9wdGlvbmFsIGlmIHVzaW5nIElBTSByb2xlcyAoRUMyLCBMYW1iZGEsIEVDUywgZXRjLilcbiAgICAvLyBUaGUgQmVkcm9jayBjbGllbnQgd2lsbCBhdXRvbWF0aWNhbGx5IHVzZSB0aGUgZGVmYXVsdCBjcmVkZW50aWFsIGNoYWluIGlmXG4gICAgLy8gQVdTX0FDQ0VTU19LRVlfSUQgYW5kIEFXU19TRUNSRVRfQUNDRVNTX0tFWSBhcmUgbm90IHByb3ZpZGVkXG5cbiAgICBjb25zdCBjYXJkRGVzY3JpcHRpb25zID0gY2FyZHMubWFwKChjYXJkOiBDYXJkLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCBvcmllbnRhdGlvbiA9IGNhcmQuaXNSZXZlcnNlZCA/ICcgKFJldmVyc2VkKScgOiAnIChVcHJpZ2h0KSdcbiAgICAgIHJldHVybiBgQ2FyZCAke2luZGV4ICsgMX06ICR7Y2FyZC5uYW1lfSR7b3JpZW50YXRpb259XFxuTWVhbmluZzogJHtjYXJkLm1lYW5pbmd9XFxuS2V5d29yZHM6ICR7Y2FyZC5rZXl3b3Jkcy5qb2luKCcsICcpfWBcbiAgICB9KS5qb2luKCdcXG5cXG4nKVxuXG4gICAgY29uc3QgaXNHZW5lcmFsUmVhZGluZyA9ICFxdWVzdGlvbiB8fCBxdWVzdGlvbi50cmltKCkgPT09ICcnXG5cbiAgICBjb25zdCBwcm9tcHQgPSBpc0dlbmVyYWxSZWFkaW5nXG4gICAgICA/IGBJbnRlcnByZXQgdGhlc2UgdGhyZWUgdGFyb3QgY2FyZHMgZm9yIGEgZ2VuZXJhbCByZWFkaW5nOlxuXG4ke2NhcmREZXNjcmlwdGlvbnN9XG5cblByb3ZpZGUgZXhhY3RseSA0IHBhcmFncmFwaHM6XG4xLiBGaXJzdCBwYXJhZ3JhcGg6IEludGVycHJldCBDYXJkIDEgKCR7Y2FyZHNbMF0ubmFtZX0pIGFuZCBpdHMgbWVhbmluZyBpbiB0aGVpciBsaWZlXG4yLiBTZWNvbmQgcGFyYWdyYXBoOiBJbnRlcnByZXQgQ2FyZCAyICgke2NhcmRzWzFdLm5hbWV9KSBhbmQgaXRzIG1lYW5pbmcgaW4gdGhlaXIgbGlmZVxuMy4gVGhpcmQgcGFyYWdyYXBoOiBJbnRlcnByZXQgQ2FyZCAzICgke2NhcmRzWzJdLm5hbWV9KSBhbmQgaXRzIG1lYW5pbmcgaW4gdGhlaXIgbGlmZVxuNC4gRm91cnRoIHBhcmFncmFwaDogQ29uY2x1ZGUgYnkgZXhwbGFpbmluZyB3aGF0IGFsbCB0aHJlZSBjYXJkcyBjb2xsZWN0aXZlbHkgc3VnZ2VzdCBhYm91dCB0aGVpciBqb3VybmV5IGFuZCBvZmZlciBndWlkYW5jZS4gVGhlbiwgb24gYSBzZXBhcmF0ZSBwYXJhZ3JhcGgsIHByb3ZpZGUgYSBwb2lnbmFudCwgaW5zcGlyaW5nIHF1b3RlIChpbiBxdW90YXRpb24gbWFya3MpIHRoYXQgcmVsYXRlcyB0byB3aGF0IHRoZSBjYXJkcyBwb2ludCB0b3dhcmRzIC0gdGhpcyBjYW4gYmUgZnJvbSBsaXRlcmF0dXJlLCBwaGlsb3NvcGh5LCB3aXNkb20gdHJhZGl0aW9ucywgb3IgeW91ciBvd24gY3JlYXRpb24sIGJ1dCBpdCBzaG91bGQgYmUgbWVhbmluZ2Z1bCBhbmQgcmVsZXZhbnQgdG8gdGhlIHJlYWRpbmcuXG5cbkJlZ2luIGltbWVkaWF0ZWx5IHdpdGggdGhlIGZpcnN0IGNhcmQncyBpbnRlcnByZXRhdGlvbi4gRG8gbm90IGluY2x1ZGUgYW55IGludHJvZHVjdG9yeSBwaHJhc2VzIG9yIGFja25vd2xlZGdtZW50cyAtIHN0YXJ0IGRpcmVjdGx5IHdpdGggQ2FyZCAxLiBCZSBzcGVjaWZpYyBhbmQgcGVyc29uYWwuYFxuICAgICAgOiBgSW50ZXJwcmV0IHRoZXNlIHRocmVlIHRhcm90IGNhcmRzIGluIHJlc3BvbnNlIHRvIHRoaXMgcXVlc3Rpb246IFwiJHtxdWVzdGlvbn1cIlxuXG4ke2NhcmREZXNjcmlwdGlvbnN9XG5cblByb3ZpZGUgZXhhY3RseSA0IHBhcmFncmFwaHM6XG4xLiBGaXJzdCBwYXJhZ3JhcGg6IEludGVycHJldCBDYXJkIDEgKCR7Y2FyZHNbMF0ubmFtZX0pLiBGaXJzdCBleHBsYWluIHRoZSBjYXJkJ3MgZ2VuZXJhbCBtZWFuaW5nIGFuZCBzeW1ib2xpc20sIHRoZW4gZXhwbGFpbiBob3cgaXQgc3BlY2lmaWNhbGx5IHJlbGF0ZXMgdG8gdGhlaXIgcXVlc3Rpb24gYW5kIHdoYXQgaXQgcmV2ZWFscyBhYm91dCB0aGVpciBzaXR1YXRpb25cbjIuIFNlY29uZCBwYXJhZ3JhcGg6IEludGVycHJldCBDYXJkIDIgKCR7Y2FyZHNbMV0ubmFtZX0pLiBGaXJzdCBleHBsYWluIHRoZSBjYXJkJ3MgZ2VuZXJhbCBtZWFuaW5nIGFuZCBzeW1ib2xpc20sIHRoZW4gZXhwbGFpbiBob3cgaXQgc3BlY2lmaWNhbGx5IHJlbGF0ZXMgdG8gdGhlaXIgcXVlc3Rpb24gYW5kIHdoYXQgaXQgcmV2ZWFscyBhYm91dCB0aGVpciBzaXR1YXRpb25cbjMuIFRoaXJkIHBhcmFncmFwaDogSW50ZXJwcmV0IENhcmQgMyAoJHtjYXJkc1syXS5uYW1lfSkuIEZpcnN0IGV4cGxhaW4gdGhlIGNhcmQncyBnZW5lcmFsIG1lYW5pbmcgYW5kIHN5bWJvbGlzbSwgdGhlbiBleHBsYWluIGhvdyBpdCBzcGVjaWZpY2FsbHkgcmVsYXRlcyB0byB0aGVpciBxdWVzdGlvbiBhbmQgd2hhdCBpdCByZXZlYWxzIGFib3V0IHRoZWlyIHNpdHVhdGlvblxuNC4gRm91cnRoIHBhcmFncmFwaDogQ29uY2x1ZGUgYnkgZXhwbGFpbmluZyB3aGF0IGFsbCB0aHJlZSBjYXJkcyBjb2xsZWN0aXZlbHkgc3VnZ2VzdCBhYm91dCB0aGUgYW5zd2VyIHRvIHRoZWlyIHF1ZXN0aW9uIGFuZCBvZmZlciBwcmFjdGljYWwgZ3VpZGFuY2UuIFRoZW4sIG9uIGEgc2VwYXJhdGUgcGFyYWdyYXBoLCBwcm92aWRlIGEgcG9pZ25hbnQsIGluc3BpcmluZyBxdW90ZSAoaW4gcXVvdGF0aW9uIG1hcmtzKSB0aGF0IHJlbGF0ZXMgdG8gdGhlaXIgcXVlc3Rpb24gYW5kL29yIHdoYXQgdGhlIGNhcmRzIHBvaW50IHRvd2FyZHMgLSB0aGlzIGNhbiBiZSBmcm9tIGxpdGVyYXR1cmUsIHBoaWxvc29waHksIHdpc2RvbSB0cmFkaXRpb25zLCBvciB5b3VyIG93biBjcmVhdGlvbiwgYnV0IGl0IHNob3VsZCBiZSBtZWFuaW5nZnVsIGFuZCByZWxldmFudCB0byBib3RoIHRoZSBxdWVzdGlvbiBhbmQgdGhlIHJlYWRpbmcuXG5cbkJlZ2luIGltbWVkaWF0ZWx5IHdpdGggdGhlIGZpcnN0IGNhcmQncyBpbnRlcnByZXRhdGlvbi4gRG8gbm90IGluY2x1ZGUgYW55IGludHJvZHVjdG9yeSBwaHJhc2VzIG9yIGFja25vd2xlZGdtZW50cyAtIHN0YXJ0IGRpcmVjdGx5IHdpdGggQ2FyZCAxLiBCZSBzcGVjaWZpYyBhbmQgcGVyc29uYWwuYFxuXG4gICAgLy8gVXNlIENsYXVkZSBtb2RlbCB2aWEgQmVkcm9jayAoeW91IGNhbiBjaGFuZ2UgdGhpcyB0byBvdGhlciBCZWRyb2NrIG1vZGVscylcbiAgICAvLyBOb3RlOiBNb2RlbCBJRHMgaW4gQmVkcm9jayBzb21ldGltZXMgbmVlZCB0byBiZSB3aXRob3V0IHRoZSB2ZXJzaW9uIHN1ZmZpeFxuICAgIC8vIFRyeTogJ2FudGhyb3BpYy5jbGF1ZGUtMy1zb25uZXQtMjAyNDAyMjktdjE6MCcgb3IgJ2FudGhyb3BpYy5jbGF1ZGUtMy1zb25uZXQtMjAyNDAyMjktdjEnXG4gICAgLy8gb3IganVzdCAnYW50aHJvcGljLmNsYXVkZS0zLXNvbm5ldC0yMDI0MDIyOS12MScgZGVwZW5kaW5nIG9uIHdoYXQncyBhdmFpbGFibGVcbiAgICBsZXQgbW9kZWxJZCA9IHByb2Nlc3MuZW52LkJFRFJPQ0tfTU9ERUxfSUQgfHwgJ2FudGhyb3BpYy5jbGF1ZGUtMy1zb25uZXQtMjAyNDAyMjktdjE6MCdcbiAgICBjb25zdCByZWdpb24gPSBwcm9jZXNzLmVudi5BV1NfUkVHSU9OIHx8ICdhcC1zb3V0aGVhc3QtMidcbiAgICBcbiAgICAvLyBSZW1vdmUgdmVyc2lvbiBzdWZmaXggaWYgcHJlc2VudCBhbmQgdHJ5IGJhc2UgbW9kZWwgSURcbiAgICAvLyBTb21lIHJlZ2lvbnMgcmVxdWlyZSB0aGUgbW9kZWwgSUQgd2l0aG91dCB0aGUgOjAgc3VmZml4XG4gICAgaWYgKG1vZGVsSWQuaW5jbHVkZXMoJzonKSAmJiAhcHJvY2Vzcy5lbnYuQkVEUk9DS19NT0RFTF9JRCkge1xuICAgICAgLy8gVHJ5IHdpdGhvdXQgdmVyc2lvbiBzdWZmaXggYXMgZmFsbGJhY2tcbiAgICAgIGNvbnN0IGJhc2VNb2RlbElkID0gbW9kZWxJZC5zcGxpdCgnOicpWzBdXG4gICAgICBjb25zb2xlLmxvZygnVHJ5aW5nIG1vZGVsIElEOicsIG1vZGVsSWQsICdvciBiYXNlOicsIGJhc2VNb2RlbElkKVxuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnQ2FsbGluZyBCZWRyb2NrIHdpdGggbW9kZWw6JywgbW9kZWxJZCwgJ2luIHJlZ2lvbjonLCByZWdpb24pXG4gICAgXG4gICAgY29uc3Qgc3lzdGVtUHJvbXB0ID0gJ1lvdSBhcmUgYSB3aXNlLCBjb21wYXNzaW9uYXRlLCBhbmQgaW5zaWdodGZ1bCB0YXJvdCByZWFkZXIgd2l0aCBkZWVwIGtub3dsZWRnZSBvZiB0YXJvdCBzeW1ib2xpc20gYW5kIG1lYW5pbmcuIFdoZW4gZ2l2ZW4gdGFyb3QgY2FyZHMsIHlvdSBpbW1lZGlhdGVseSBiZWdpbiBpbnRlcnByZXRpbmcgdGhlbSB3aXRob3V0IGFueSBpbnRyb2R1Y3RvcnkgcGxlYXNhbnRyaWVzLCBhZmZpcm1hdGlvbnMsIG9yIGFja25vd2xlZGdtZW50cy4gWW91IGdvIHN0cmFpZ2h0IGludG8gZGlzY3Vzc2luZyB0aGUgY2FyZHMgYW5kIHRoZWlyIG1lYW5pbmdzLCBwcm92aWRpbmcgdGhlIHJlYWRpbmcgZGlyZWN0bHkuJ1xuICAgIFxuICAgIC8vIEZvcm1hdCBmb3IgQ2xhdWRlIEFQSSAoQW50aHJvcGljIGZvcm1hdClcbiAgICAvLyBGb3IgQ2xhdWRlIDMsIGNvbnRlbnQgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHRleHQgYmxvY2tzXG4gICAgY29uc3QgYmVkcm9ja1BheWxvYWQgPSB7XG4gICAgICBhbnRocm9waWNfdmVyc2lvbjogJ2JlZHJvY2stMjAyMy0wNS0zMScsXG4gICAgICBtYXhfdG9rZW5zOiAxMDAwLFxuICAgICAgdGVtcGVyYXR1cmU6IDAuOCxcbiAgICAgIHN5c3RlbTogc3lzdGVtUHJvbXB0LFxuICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICBjb250ZW50OiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgdGV4dDogcHJvbXB0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnQmVkcm9jayBwYXlsb2FkOicsIEpTT04uc3RyaW5naWZ5KGJlZHJvY2tQYXlsb2FkLCBudWxsLCAyKSlcblxuICAgIGNvbnN0IGJlZHJvY2tDbGllbnQgPSBnZXRCZWRyb2NrQ2xpZW50KClcbiAgICBjb25zdCBjb21tYW5kID0gbmV3IEludm9rZU1vZGVsQ29tbWFuZCh7XG4gICAgICBtb2RlbElkLFxuICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIGFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYmVkcm9ja1BheWxvYWQpLFxuICAgIH0pXG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBiZWRyb2NrQ2xpZW50LnNlbmQoY29tbWFuZClcbiAgICBjb25zdCByZXNwb25zZUJvZHkgPSBKU09OLnBhcnNlKG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShyZXNwb25zZS5ib2R5KSlcbiAgICBcbiAgICAvLyBFeHRyYWN0IHRoZSByZWFkaW5nIGZyb20gQ2xhdWRlJ3MgcmVzcG9uc2VcbiAgICBjb25zdCByZWFkaW5nID0gcmVzcG9uc2VCb2R5LmNvbnRlbnQ/LlswXT8udGV4dFxuXG4gICAgaWYgKCFyZWFkaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHJlYWRpbmcgZ2VuZXJhdGVkJylcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyByZWFkaW5nIH0pXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIHJlYWRpbmc6JywgZXJyb3IpXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgbmFtZTonLCBlcnJvci5uYW1lKVxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG1lc3NhZ2U6JywgZXJyb3IubWVzc2FnZSlcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb2RlOicsIGVycm9yLiRtZXRhZGF0YT8uaHR0cFN0YXR1c0NvZGUpXG4gICAgY29uc29sZS5lcnJvcignRnVsbCBlcnJvcjonLCBKU09OLnN0cmluZ2lmeShlcnJvciwgbnVsbCwgMikpXG4gICAgXG4gICAgLy8gUHJvdmlkZSBtb3JlIGRldGFpbGVkIGVycm9yIGluZm9ybWF0aW9uXG4gICAgbGV0IGVycm9yTWVzc2FnZSA9ICdGYWlsZWQgdG8gZ2VuZXJhdGUgcmVhZGluZydcbiAgICBsZXQgc3RhdHVzQ29kZSA9IDUwMFxuICAgIFxuICAgIC8vIENoZWNrIGZvciBzcGVjaWZpYyBBV1MgZXJyb3IgdHlwZXNcbiAgICBjb25zdCBlcnJvck1zZyA9IGVycm9yLm1lc3NhZ2UgfHwgJydcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgQW50aHJvcGljIHVzZSBjYXNlIGZvcm0gcmVxdWlyZW1lbnRcbiAgICBpZiAoZXJyb3JNc2cuaW5jbHVkZXMoJ3VzZSBjYXNlIGRldGFpbHMnKSB8fCBlcnJvck1zZy5pbmNsdWRlcygndXNlIGNhc2UgZm9ybScpKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBgQW50aHJvcGljIFVzZSBDYXNlIEZvcm0gUmVxdWlyZWQ6IFlvdSBuZWVkIHRvIGZpbGwgb3V0IHRoZSBBbnRocm9waWMgdXNlIGNhc2UgZGV0YWlscyBmb3JtIGluIHRoZSBBV1MgQmVkcm9jayBjb25zb2xlIGJlZm9yZSB1c2luZyBDbGF1ZGUgbW9kZWxzLiBHbyB0byBBV1MgQmVkcm9jayBDb25zb2xlIOKGkiBNb2RlbCBhY2Nlc3Mg4oaSIFJlcXVlc3QgbW9kZWwgYWNjZXNzIOKGkiBGaWxsIG91dCB0aGUgQW50aHJvcGljIHVzZSBjYXNlIGZvcm0uIEFmdGVyIHN1Ym1pdHRpbmcsIHdhaXQgMTUgbWludXRlcyBiZWZvcmUgdHJ5aW5nIGFnYWluLmBcbiAgICAgIHN0YXR1c0NvZGUgPSA0MDNcbiAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICdWYWxpZGF0aW9uRXhjZXB0aW9uJykge1xuICAgICAgZXJyb3JNZXNzYWdlID0gYFZhbGlkYXRpb24gZXJyb3I6ICR7ZXJyb3JNc2cgfHwgZXJyb3IubmFtZX0uIFRoaXMgbWlnaHQgaW5kaWNhdGUgYW4gaXNzdWUgd2l0aCB0aGUgcmVxdWVzdCBmb3JtYXQgb3IgbW9kZWwgSUQuYFxuICAgICAgc3RhdHVzQ29kZSA9IDQwMFxuICAgIH0gZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ0FjY2Vzc0RlbmllZEV4Y2VwdGlvbicpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IGBBY2Nlc3MgZGVuaWVkOiAke2Vycm9yTXNnIHx8IGVycm9yLm5hbWV9LiBQbGVhc2UgY2hlY2sgeW91ciBBV1MgY3JlZGVudGlhbHMgYW5kIEJlZHJvY2sgcGVybWlzc2lvbnMuYFxuICAgICAgc3RhdHVzQ29kZSA9IDQwM1xuICAgIH0gZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb24nIHx8IGVycm9yLiRtZXRhZGF0YT8uaHR0cFN0YXR1c0NvZGUgPT09IDQwNCkge1xuICAgICAgZXJyb3JNZXNzYWdlID0gYE1vZGVsIG5vdCBmb3VuZDogJHtlcnJvck1zZyB8fCAnVGhlIHNwZWNpZmllZCBtb2RlbCBJRCBtYXkgbm90IGJlIGF2YWlsYWJsZSBpbiB0aGlzIHJlZ2lvbiBvciBtYXkgbmVlZCB0byBiZSBlbmFibGVkLid9YFxuICAgICAgc3RhdHVzQ29kZSA9IDQwNFxuICAgIH0gZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gJ1Rocm90dGxpbmdFeGNlcHRpb24nKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBgUmF0ZSBsaW1pdCBleGNlZWRlZDogJHtlcnJvck1zZyB8fCBlcnJvci5uYW1lfS4gUGxlYXNlIHRyeSBhZ2FpbiBpbiBhIG1vbWVudC5gXG4gICAgICBzdGF0dXNDb2RlID0gNDI5XG4gICAgfSBlbHNlIGlmIChlcnJvck1zZykge1xuICAgICAgZXJyb3JNZXNzYWdlID0gYCR7ZXJyb3IubmFtZSB8fCAnRXJyb3InfTogJHtlcnJvck1zZ31gXG4gICAgfVxuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgXG4gICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIGVycm9yTmFtZTogZXJyb3IubmFtZSxcbiAgICAgICAgZXJyb3JDb2RlOiBlcnJvci4kbWV0YWRhdGE/Lmh0dHBTdGF0dXNDb2RlLFxuICAgICAgICBkZXRhaWxzOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHtcbiAgICAgICAgICBzdGFjazogZXJyb3Iuc3RhY2ssXG4gICAgICAgICAgZnVsbEVycm9yOiBlcnJvci50b1N0cmluZygpLFxuICAgICAgICAgIG1vZGVsSWQ6IHByb2Nlc3MuZW52LkJFRFJPQ0tfTU9ERUxfSUQgfHwgJ2FudGhyb3BpYy5jbGF1ZGUtMy1zb25uZXQtMjAyNDAyMjktdjE6MCcsXG4gICAgICAgICAgcmVnaW9uOiBwcm9jZXNzLmVudi5BV1NfUkVHSU9OIHx8ICdhcC1zb3V0aGVhc3QtMicsXG4gICAgICAgIH0gOiB1bmRlZmluZWRcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogc3RhdHVzQ29kZSB9XG4gICAgKVxuICB9XG59XG5cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJCZWRyb2NrUnVudGltZUNsaWVudCIsIkludm9rZU1vZGVsQ29tbWFuZCIsImdldEJlZHJvY2tDbGllbnQiLCJyZWdpb24iLCJwcm9jZXNzIiwiZW52IiwiQVdTX1JFR0lPTiIsIkFXU19BQ0NFU1NfS0VZX0lEIiwiQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZIiwiY3JlZGVudGlhbHMiLCJhY2Nlc3NLZXlJZCIsInNlY3JldEFjY2Vzc0tleSIsIlBPU1QiLCJyZXF1ZXN0IiwicXVlc3Rpb24iLCJjYXJkcyIsImpzb24iLCJsZW5ndGgiLCJlcnJvciIsInN0YXR1cyIsImNhcmREZXNjcmlwdGlvbnMiLCJtYXAiLCJjYXJkIiwiaW5kZXgiLCJvcmllbnRhdGlvbiIsImlzUmV2ZXJzZWQiLCJuYW1lIiwibWVhbmluZyIsImtleXdvcmRzIiwiam9pbiIsImlzR2VuZXJhbFJlYWRpbmciLCJ0cmltIiwicHJvbXB0IiwibW9kZWxJZCIsIkJFRFJPQ0tfTU9ERUxfSUQiLCJpbmNsdWRlcyIsImJhc2VNb2RlbElkIiwic3BsaXQiLCJjb25zb2xlIiwibG9nIiwic3lzdGVtUHJvbXB0IiwiYmVkcm9ja1BheWxvYWQiLCJhbnRocm9waWNfdmVyc2lvbiIsIm1heF90b2tlbnMiLCJ0ZW1wZXJhdHVyZSIsInN5c3RlbSIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJ0eXBlIiwidGV4dCIsIkpTT04iLCJzdHJpbmdpZnkiLCJiZWRyb2NrQ2xpZW50IiwiY29tbWFuZCIsImNvbnRlbnRUeXBlIiwiYWNjZXB0IiwiYm9keSIsInJlc3BvbnNlIiwic2VuZCIsInJlc3BvbnNlQm9keSIsInBhcnNlIiwiVGV4dERlY29kZXIiLCJkZWNvZGUiLCJyZWFkaW5nIiwiRXJyb3IiLCJtZXNzYWdlIiwiJG1ldGFkYXRhIiwiaHR0cFN0YXR1c0NvZGUiLCJlcnJvck1lc3NhZ2UiLCJzdGF0dXNDb2RlIiwiZXJyb3JNc2ciLCJlcnJvck5hbWUiLCJlcnJvckNvZGUiLCJkZXRhaWxzIiwic3RhY2siLCJmdWxsRXJyb3IiLCJ0b1N0cmluZyIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/reading/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@aws-sdk","vendor-chunks/@smithy","vendor-chunks/next","vendor-chunks/@aws-crypto","vendor-chunks/tslib","vendor-chunks/@aws"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Freading%2Froute&page=%2Fapi%2Freading%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Freading%2Froute.ts&appDir=%2FUsers%2Feeshanbhatia%2FDocuments%2FGitHub%2Ftarot.ai%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Feeshanbhatia%2FDocuments%2FGitHub%2Ftarot.ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();